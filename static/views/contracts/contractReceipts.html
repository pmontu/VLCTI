<navbar></navbar>

<div class="container">

	<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index);">
		{{alert.msg}}
	</alert>

</div>
<div class="container" ng-show="isValidContractId">

	<h1>
		<span class="glyphicon glyphicon-euro"></span> Receipts
	</h1>

	<h3>
		<a href="#/student/{{student.id}}/edit">{{student.name}}</a>
	</h3>
	
	<div>Age: {{student.age || "-"}}</div>
	<div>Email: {{student.email || "-"}}</div>
	<div>Phone: {{student.cell || "-"}}</div>

	<h3>
		Contract <a href="#/contract/{{contract.id}}/edit">#{{contract.id}}</a>
	</h3>
	
	<div>Joining Date: {{contract.join | date}}</div>
	<div>Payment Type: {{contract.type}}</div>
	<div ng-if="contract.mode=='I'">Instalments: {{contract.instalments}}</div>
	<div>Amount: {{contract.amount | currency:"₹"}}</div>
	<div>Hours: {{contract.hours}}</div>
	<br/><br/>

	<a class="btn btn-default btn-lg" href="#/contract/{{contract.id}}/receipt/add">
		<span class="glyphicon glyphicon-plus"></span> Add Receipt
	</a>
	<br/><br/>

	<table class="table">
		<tr>
			<th>#</th>
			<th>Serial</th>
			<th>Amount</th>
			<th>Date</th>
			<th>Actions</th>
		</tr>
		<tr ng-repeat="receipt in receipts">
			<td>{{$index+1}}</td>
			<td>{{receipt.serial}}</td>
			<td>{{receipt.amount | currency:"₹"}}</td>
			<td>{{receipt.date | date}}</td>
			<td>
				<a href="#/receipt/{{receipt.id}}/edit" class="btn btn-link"> 
					<span class="glyphicon glyphicon-edit"></span> Edit
				</a>
		</tr>
	</table>

	<pagination direction-links="true" boundary-links="true" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()" max-size="maxSize" items-per-page="itemsPerPage"></pagination>



</div>